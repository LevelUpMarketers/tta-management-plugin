# Events List Page

The **Events List Page** template displays upcoming events in chronological order.
It shows a thumbnail, date, time, venue, address, a short description excerpt and
remaining ticket count for each event. Ticket inventory changes clear the cache so
counts update immediately for all visitors. Up to five events are loaded per page with
pagination links generated by `paginate_links()`. The pagination bar displays a
**Previous Events** button on the left, numbered pages centered, and a **More
Events** button on the right.
When the page loads a WPBakery hero banner is inserted at the very top via `do_shortcode()`.

The layout consists of three columns:

1. **Left column** – a small calendar with arrows to navigate between months. The
   calendar allows browsing three years back and forward. Days that have events
   are highlighted and link to the first event scheduled on that date. Navigation
   happens over AJAX so changing months no longer resets pagination. Above the
   friends box is a **Your Upcoming Events** widget showing events for the logged
   in member. Beneath the “Join Your Friends” thumbnails a new **Your Events**
   section links to profile information, upcoming and past events, billing, and
  logout. When visitors are not logged in the section displays a login link
  that smoothly scrolls to the login form with extra offset so it remains
  fully visible beneath sticky headers. The sidebar still ends with the
  **Membership Perks** panel encouraging
  upgrades.
2. **Center column** – the list of upcoming events ordered by date. Each row links
   to the corresponding Event Page. Event images are set as background images on
   a 150×150&nbsp;px container so every row stays the same size without image
   distortion. They are right aligned.
  Below each event name a list of key details appears with the same icons used on individual Event Pages.
  The cost line shows the event's base price. When events offer multiple ticket types,
  the price displays as a range from the cheapest to most expensive ticket. Logged‑in
  members see the base price (or range) crossed out in red and replaced with their
  discounted price range when applicable to their membership level.
   When an event sells out the remaining ticket count is replaced with **Sold Out!** in red text.
   The “Get Your Tickets” button changes to **Join The Waitlist** when a waitlist is available or **Sold Out** when not. This only happens when all ticket types for the event are sold out. The underlying event data includes a `waitlistavailable` flag used to determine availability.
3. **Right column** – an advertising slot that begins with a **Meet Our Local
   Partners** heading and a short note thanking the businesses that support the
   project. It then displays one random ad image from the Ads admin page. When
   available, the business name, phone number, and address appear beneath the
   image with matching icons. Each detail links out: the name links to the ad's
   URL, the phone launches a call, and the address opens a Google Maps search.
  On screens wider than 768px the ad panel sticks while scrolling so it stays visible without leaving its container. A 148px top offset ensures it doesn't hide behind the menu.

Profile thumbnails within the “Join Your Friends” section open a larger version in a simple popup when clicked. Duplicate attendees are filtered out so each member only appears once. The first twelve profiles are shown initially with a **View All Attendees** button to reveal the rest. The popup is disabled on very small screens.
When twelve or fewer profiles are available the box auto-expands so all thumbnails are fully visible without needing the button.

On small screens the columns stack vertically for a mobile‑friendly layout.

Use the `events-list-page-template.php` page template from the **Page Attributes**
section when creating a WordPress page. Each list item links to the associated
Event Page. Front‑end styling is provided by `assets/css/frontend/events-list.css`
which is automatically enqueued when this template is active.

The icon and text pairs within `.tta-event-detail-list` are arranged with flexbox
to keep them on a single line. Time strings are parsed safely, so missing or
malformed values no longer trigger PHP warnings.
Cost and event type values are also checked for existence so undefined keys do not generate notices.